@inherits PageListView<SpeciesModel>

<MxView>
	<Actions>
		<OptionMenu>
			<Items>
				<OptionItem Text="Add" OnClick="() => Form()" />
			</Items>			
		</OptionMenu>
	</Actions>
	<Body>
		<div class="alert alert-primary alert-outline" role="alert">
			<div class="alert-message">
				<Row>
					<Cell Size="4" CssClass="min-width">
						<label for="SpeciesType" class="k-label k-form-label">Type</label>
						<TelerikDropDownList @bind-Value="QueryInfo.Type"
											 Data="EnumData.SpeciesTypeList"
											 Id="SpeciesType"
											 ValueField="Id"
											 TextField="Name"
											 DefaultText="">
						</TelerikDropDownList>
					</Cell>
				</Row>
				<Row>
					<Cell Size="4" CssClass="min-width">
						<label for="Taxon" class="k-label k-form-label">Taxon</label>
						<TelerikTextBox @bind-Value="QueryInfo.Taxon"
										Id="Taxon" />
					</Cell>
					<Cell Size="4" CssClass="min-width">
						<label for="Phylum" class="k-label k-form-label">Phylum</label>
						<TelerikTextBox @bind-Value="QueryInfo.Phylum"
										Id="Phylum" />
					</Cell>
					<Cell Size="4" CssClass="min-width">
						<label for="Class" class="k-label k-form-label">Class</label>
						<TelerikTextBox @bind-Value="QueryInfo.Class"
										Id="Class" />
					</Cell>
				</Row>
				<Row>
					<Cell Size="4" CssClass="min-width">
						<label for="Order" class="k-label k-form-label">Order</label>
						<TelerikTextBox @bind-Value="QueryInfo.Order"
										Id="Order" />
					</Cell>
					<Cell Size="4" CssClass="min-width">
						<label for="Family" class="k-label k-form-label">Family</label>
						<TelerikTextBox @bind-Value="QueryInfo.Family"
										Id="Family" />
					</Cell>
					<Cell Size="4" CssClass="min-width">
						<label for="Genus" class="k-label k-form-label">Genus</label>
						<TelerikTextBox @bind-Value="QueryInfo.Genus"
										Id="Genus" />
					</Cell>
				</Row>
				<Row>
					<Cell Size="12" CssClass="min-width">
						<Button Icon="FontIcon.FilterClear"
								CssClass="float-end ms-1"
								OnClick="() => ResetFilter()"
								Text="Reset filter"
								Color="@ThemeConstants.Button.ThemeColor.Dark"
								Size="@ThemeConstants.Button.Size.Small" />
						<Button Icon="FontIcon.Filter"
								CssClass="float-end"
								OnClick="() => FilterSpecies()"
								Text="Filter"
								Color="@ThemeConstants.Button.ThemeColor.Dark"
								Size="@ThemeConstants.Button.Size.Small" />
					</Cell>
				</Row>
			</div>
		</div>
		<TelerikGrid @ref="list"
					 TItem="SpeciesModel"
					 OnRead="ReadItemsAsync"
					 Resizable="true"
					 Pageable="true"
					 Sortable="true"
					 PageSize="15">
			<GridColumns>
				<GridColumn Field=@nameof(SpeciesModel.Taxon) Title="Taxon" Width="120px">
					<Template>
						@{
							var item = context as SpeciesModel;
							<span class="cursor-pointer" @onclick="() => Edit(item)"><strong>@item.Taxon</strong></span>
						}
					</Template>
				</GridColumn>
				<GridColumn Field=@nameof(SpeciesModel.Type) Title="Type" Width="100px">
					<Template>
						@{
							var item = context as SpeciesModel;
							<span>@I18n.Enums.Get(item.Type)</span>
						}
					</Template>
				</GridColumn>
				<GridColumn Field=@nameof(SpeciesModel.Phylum) Title="Phylum" Width="100px">
					<Template>
						@{
							var item = context as SpeciesModel;
							<span>@item.Phylum</span>
						}
					</Template>
				</GridColumn>
				<GridColumn Field=@nameof(SpeciesModel.Order) Title="Order" Width="100px">
					<Template>
						@{
							var item = context as SpeciesModel;
							<span>@item.Order</span>
						}
					</Template>
				</GridColumn>
				@*<GridColumn Width="50px">
					<Template>
						@{
							var item = context as SpeciesModel;
							<Button Icon="FontIcon.Pencil" CssClass="float-end" OnClick="() => Edit(item)" />
						}
					</Template>
				</GridColumn>*@
			</GridColumns>
		</TelerikGrid>
	</Body>
</MxView>